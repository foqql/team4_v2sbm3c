      <!DOCTYPE html>
      <html layout:decorate="~{layout}"> <!-- layout.html 상속-->
      
      <head>
        <script>
        
    // 'request'라는 id를 가진 버튼 클릭 시 실행.
    $("id 맞춰 넣기").click(function(){
 
            // json 형식으로 데이터 set
            var params = {
                      name      : $("#name").val()
                    , sex       : $("#sex").val()
                    , age       : $("#age").val()
                    , tellPh    : $("#tellPh").val()
            }
                
            // ajax 통신
            $.ajax({
                type : "POST",            // HTTP method type(GET, POST) 형식이다.
                url : "/test/ajax",      // 컨트롤러에서 대기중인 URL 주소이다.
                data : params,            // Json 형식의 데이터이다.
                success : function(res){ // 비동기통신의 성공일경우 success콜백으로 들어옵니다. 'res'는 응답받은 데이터이다.
                    // 응답코드 > 0000
                    alert(res.code);
                },
                error : function(XMLHttpRequest, textStatus, errorThrown){ // 비동기 통신이 실패할경우 error 콜백으로 들어옵니다.
                    alert("통신 실패.")
                }
            });
        });
            
</script>
      </head>
      
      <body>
          <div layout:fragment="content">
        <aside class="aside_right">
    <a href="javascript:location.reload();">새로고침</a><span class="menu_devide">│</span>   
       <span th:if="${session.grade == 'admin'}">
      <a th:href="@{|/survey/create_item?surveyno=${surveyVO.surveyno}|}">등록</a>
  </aside>
              <div class='menu_line'></div>
      
              <fieldset class="fieldset_basic">
                  <ul>
                      <p>설문조사 제목: <span th:text="${surveyVO.topic}"></span></p>
                      <li class="li_none">
                          <div style="width: 100%; word-break: break-all;">
                              <span style="font-size: 1.5em; font-weight: bold;" th:text="${surveyVO.topic}"></span><br>
                              <span style="font-size: 1em;" th:text="${surveyVO.startdate}"></span><br><br>
                              <div style="white-space: pre-wrap;">
                                  <span th:text="${surveyVO.enddate}"></span>
                              </div>
                          </div>
                      </li>
      
                      <!-- 설문 항목 선택 -->
                      <li class="li_none">
  <form name="frm" method="post" action="/survey/dosurvey" th:object="${surveyitemVO}">
      <!-- 설문 항목 반복 출력 -->
<div th:each="surveyitem, i : ${surveyitemVO}">
    <!-- 각 항목에 대해 고유한 radio button 생성 -->
    <input type="radio" th:name="pick" th:value="${surveyitem.surveyitemno}" />
    <input type="hidden" th:name="surveyitemno" th:value="${surveyitem.surveyitemno}" />
    <input type="hidden" th:name="item" th:value="${surveyitem.item}" />
    <a th:text="${surveyitem.item}"></a>
<div style="display: flex; justify-content: flex-end; align-items: center;" th:if="${session.grade == 'admin'}">
    <a th:href="@{|/survey/update_item/${surveyVO.surveyno}|}" > 수정</a>
    <span class="menu_devide">│</span>
    <a th:href="@{|/survey/delete_item/${surveyVO.surveyno}|}"> 삭제</a>
</div>

</div>

  
      <div th:if="${#lists.isEmpty(surveyitemVO)}">
          <p>설문 항목이 없습니다.</p>
      </div>
  
      <div>
          <button type="submit" class="btn btn-info">제출</button>
      </div>
  </form>
  
    
                      </li>
                  </ul>
              </fieldset>
          </div>
      </body>
      
      </html>
