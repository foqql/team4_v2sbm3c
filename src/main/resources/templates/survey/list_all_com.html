<!--/* 
<div th:replace="~{survey_good/list_all_com::list_all_fragment}"></div> 
'/survey/list_all_com.html' 파일의 list_all_fragment를 가져다 사용
*/-->
<div th:fragment="list_all_fragment"> 
  <table class="table table-hover" style="width: 100%;">
    <colgroup>
      <col style='width: 10%;'/>
      <col style='width: 20%;'/>
      <col style='width: 20%;'/>
      <col style='width: 20%;'/>
      <col style='width: 30%;'/>
    </colgroup>
    <thead>
      <tr>
        <th class="th_bs">순서</th>
        <th class="th_bs">등록일(추천일)</th>
        <th class="th_bs">컨텐츠 번호</th>
        <th class="th_bs">회원 번호</th>
        <th class="th_bs">기타</th>
      </tr>
    </thead>
    <tbody>
      <tr th:each="surveyVO, status:${list}">
        <td class="td_bs" th:text="|${status.index+1}|"></td>
        <td class="td_bs" th:text="${surveyVO.rdate.substring(0, 10)}"></td>
        <td class="td_bs" th:text="${surveyVO.topic}"></td>
        <td class="td_bs" th:text="${surveyVO.name}"></td>
        <td class="td_bs">
          <a href="#" th:onclick="'delete_sm(event, ' + ${surveyVO.surveymemberno}+');'"><img src="/survey_good/images/delete.png" class="icon" title="삭제"></a> <!--/* /static 기준 */-->
        </td>
      </tr>
    </tbody>
  </table>
  <script>
  function delete_sm(e, surveymemberno){
    let sw = confirm(surveymemberno+'번을 삭제 하시겠습니까?\n삭제하면 복구할 수 없습니다.')
    if(sw == true){
      document.querySelector('#surveymemberno').value = surveymemberno;
      document.querySelector('#frm').submit();
    }
    
  }
  </script>
  <form name='frm' id='frm' method = 'post' action='/survey/delete_sm'>
  <input type='hidden' name='surveymemberno' id ='surveymemberno'>
  </form>
  
</div>

