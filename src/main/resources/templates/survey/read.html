<!DOCTYPE html>
<html layout:decorate="~{layout}"> <!-- layout.html 상속-->

<head>
<style>
.progress-bar {
    width: 100%;
    height: 30px;
    background-color: #dedede;
    font-weight: 600;
    font-size: .8rem;
}

.progress-bar .progress {
    height: 30px;
    padding: 0;
    text-align: center;
    background-color: #98FB98;
    color: #111;
}
</style>
</head>

<body>
    <div layout:fragment="content">

        <div class='menu_line'></div>

        <fieldset class="fieldset_basic">
        
            <ul>
                <li class="li_none">
                
                    <div
                        th:if="${surveyVO.poster != null and (surveyVO.poster.endsWith('jpg') or surveyVO.poster.endsWith('png') or surveyVO.poster.endsWith('gif'))}">
                        <img th:src="@{|/survey/storage/${surveyVO.postersaved}|}"
                            style='width: 50%; float: left; margin-top: 0.5%; margin-right: 1%; background-color : white;'>
                    </div>
                    
                    <div style="width: 100%; word-break: break-all;">
                        <span style="font-size: 1.5em; font-weight: bold;" th:text="${surveyVO.topic}"></span><br>
                        <span style="font-size: 1em;" th:text="${surveyVO.startdate}"></span><br><br>
                        <div style="white-space: pre-wrap;"><span th:text="${surveyVO.enddate}"></span></div>
                    </div>
                </li>
                <li class="li_none">
                    <div th:each="surveyitem, i : ${surveyitemVO}">
                        <span style="font-size: 1.5em; font-weight: bold;" th:text="${surveyitem.item}"></span>
                        <div style="white-space: pre-wrap;">
                            <span th:text="${surveyitem.itemcnt}"></span>
                        </div>
                        <!-- HTML -->
                        <div class="progress-bar">           
                            <div class="progress" 
                                 th:style="'width: ' + (${surveyitem.itemcnt} / ${cntsum}) * 100 + '%'">
                                <!-- progress bar with dynamic width based on itemcnt -->
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </fieldset>
    </div>
</body>

</html>
